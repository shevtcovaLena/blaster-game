{"version":3,"sources":["assets\\scripts\\view\\BoosterPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA+C;AAEzC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEAyDC;QAvDC,yBAAmB,GAAc,IAAI,CAAC;QAGtC,sBAAgB,GAAY,IAAI,CAAC;QAGjC,cAAQ,GAAmB,IAAI,CAAC;QAGhC,kBAAY,GAAmB,IAAI,CAAC;QAE5B,oBAAc,GAA+B,IAAI,GAAG,EAAE,CAAC;;IA4CjE,CAAC;IA1CC,6BAAM,GAAN;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEO,qCAAc,GAAtB;QAAA,iBAyBC;QAxBC,IAAM,QAAQ,GAAG;YACf,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE;YAC/C,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE;SACxD,CAAC;QAEF,IAAM,OAAO,GAAG,GAAG,CAAC;QACpB,IAAM,UAAU,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;QACnD,IAAM,MAAM,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC;QAE/B,QAAQ,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;YAC3B,IAAM,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,mBAAmB,CAAC,CAAC;YACzD,OAAO,CAAC,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC;YACvC,OAAO,CAAC,CAAC,GAAG,MAAM,GAAG,KAAK,GAAG,OAAO,CAAC;YACrC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YAEd,IAAM,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,sBAAa,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,EAAE;gBACf,OAAO;aACR;YAED,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAClD,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YAC/C,OAAO,CAAC,EAAE,CAAC,iBAAiB,EAAE,KAAI,CAAC,gBAAgB,EAAE,KAAI,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,uCAAgB,GAAxB,UAAyB,IAAY;QACnC,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,UAAU;YAAE,OAAO;QAExB,IAAM,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC5D,IAAI,YAAY,IAAI,CAAC,EAAE;YACrB,OAAO;SACR;QAED,UAAU,CAAC,WAAW,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;IAC3C,CAAC;IAtDD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6DACkB;IAGtC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DACe;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;kDACO;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;sDACW;IAXjB,YAAY;QADhC,OAAO;OACa,YAAY,CAyDhC;IAAD,mBAAC;CAzDD,AAyDC,CAzDyC,EAAE,CAAC,SAAS,GAyDrD;kBAzDoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import BoosterButton from \"../ui/BusterButton\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BoosterPanel extends cc.Component {\n  @property(cc.Prefab)\n  boosterButtonPrefab: cc.Prefab = null;\n\n  @property(cc.Node)\n  boosterContainer: cc.Node = null;\n\n  @property(cc.SpriteFrame)\n  bombIcon: cc.SpriteFrame = null;\n\n  @property(cc.SpriteFrame)\n  teleportIcon: cc.SpriteFrame = null;\n\n  private boosterButtons: Map<string, BoosterButton> = new Map();\n\n  onLoad(): void {\n    this.createBoosters();\n  }\n\n  private createBoosters(): void {\n    const boosters = [\n      { type: \"bomb\", icon: this.bombIcon, count: 3 },\n      { type: \"teleport\", icon: this.teleportIcon, count: 5 },\n    ];\n\n    const spacing = 320;\n    const totalWidth = (boosters.length - 1) * spacing;\n    const startX = -totalWidth / 2;\n\n    boosters.forEach((data, index) => {\n      const btnNode = cc.instantiate(this.boosterButtonPrefab);\n      btnNode.parent = this.boosterContainer;\n      btnNode.x = startX + index * spacing;\n      btnNode.y = 0;\n\n      const boosterBtn = btnNode.getComponent(BoosterButton);\n      if (!boosterBtn) {\n        return;\n      }\n\n      boosterBtn.init(data.type, data.icon, data.count);\n      this.boosterButtons.set(data.type, boosterBtn);\n      btnNode.on(\"booster-clicked\", this.onBoosterClicked, this);\n    });\n  }\n\n  private onBoosterClicked(type: string): void {\n    const boosterBtn = this.boosterButtons.get(type);\n    if (!boosterBtn) return;\n\n    const currentCount = parseInt(boosterBtn.countLabel.string);\n    if (currentCount <= 0) {\n      return;\n    }\n\n    boosterBtn.updateCount(currentCount - 1);\n  }\n}\n"]}