{"version":3,"sources":["assets\\scripts\\ui\\GameEndPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\nexport enum GameEndType {\n  WIN = \"win\",\n  LOSE = \"lose\",\n}\n\n@ccclass\nexport default class GameEndPanel extends cc.Component {\n  @property(cc.Label)\n  resultLabel: cc.Label = null;\n\n  @property(cc.Button)\n  restartButton: cc.Button = null;\n\n  private onRestartCallback: () => void = null;\n\n  onLoad(): void {\n    this.node.opacity = 0;\n    this.node.active = false;\n\n    this.restartButton.node.on(\"click\", this.onRestartClicked, this);\n  }\n\n  show(type: GameEndType, onRestart: () => void): void {\n    this.onRestartCallback = onRestart;\n    this.node.active = true;\n\n    if (type === GameEndType.WIN) {\n      this.resultLabel.string = \"Ð¢Ð« Ð’Ð«Ð˜Ð“Ð ÐÐ›!\\nðŸŽ‰\";\n    } else {\n      this.resultLabel.string = \"ÐŸÐ ÐžÐ˜Ð“Ð Ð«Ð¨\";\n    }\n\n    this.playShowAnimation();\n  }\n\n  hide(): void {\n    this.node.active = false;\n    this.node.opacity = 0;\n  }\n\n  private playShowAnimation(): void {\n    this.resultLabel.node.scale = 0.5;\n    this.resultLabel.node.opacity = 0;\n    this.restartButton.node.scale = 0.8;\n    this.restartButton.node.opacity = 0;\n    this.node.opacity = 255;\n\n    cc.tween(this.resultLabel.node)\n      .to(0.4, { scale: 1.0, opacity: 255 }, { easing: \"backOut\" })\n      .start();\n\n    cc.tween(this.restartButton.node)\n      .delay(0.2)\n      .to(0.3, { scale: 1.0, opacity: 255 }, { easing: \"backOut\" })\n      .start();\n  }\n\n  private onRestartClicked(): void {\n    cc.tween(this.node)\n      .to(0.2, { opacity: 0 })\n      .call(() => {\n        this.hide();\n        if (this.onRestartCallback) {\n          this.onRestartCallback();\n        }\n      })\n      .start();\n  }\n}\n"]}